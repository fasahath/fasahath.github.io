<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>D3 Test</title>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.4.0/d3.min.js"></script>
		
		<style type="text/css">
		
			div.bar {
				display: inline-block;
				width: 20px;
				height: 75px;
				background-color: teal;
			}
		
		</style>
		
		
    </head>
    <body>
	
        <script type="text/javascript">
			
			//Width and height
			var svgWidth = 1200;
			var svgHeight = 500;

			var svg = d3.select("body")
            .append("svg")
            .attr("width", svgWidth)   // <-- Here
            .attr("height", svgHeight); // <-- and here!
			
			var dataset = [];
			var maximum = 4;
			var minimum = 1;
			for(var j=0; j<25;j++){
				dataset[j] = Math.floor(Math.random() * (maximum - minimum + 1)) + minimum;;
			}
				
			
			var boxGraph_xAnchor = 200;
			var boxGraph_yAnchor = 100;
			var xVal = yVal = 0;
			var rows = 5;
			var boxWidth = boxHeight = 30;
			var boxColGap = 3;
			var boxRowGap = 5;
			var boxColorArray = ["teal","orange","red","purple"];
			var boxTextArray = ["A","I","D","R"];
			var rowTitles = ["ATTENTIVE","IMPULSIVE","DISTRACTED","DISENGAGED"];
			var boxColor, boxText;
			for(var i=0; i<rows; i++){
				yVal = (i*(boxHeight+boxRowGap))+boxGraph_yAnchor;
				var text = svg.append('text').text(rowTitles[i])
					   .attr('x', 190)
					   .attr('y', yVal+boxHeight/2)
					   .attr('fill', boxColorArray[i])
					   .attr("text-anchor","end")
					   .attr("alignment-baseline","middle");
				for(var m=0; m<dataset.length; m++){
					
					if(i<4){
						if(dataset[m]==i+1){
							boxColor = boxColorArray[i];
							boxText = boxTextArray[i];
						}
						else{
							boxColor = "none";
							boxText = "";
						}
					}
					else{
						boxColor = boxColorArray[dataset[m]-1];
						boxText = boxTextArray[dataset[m]-1];
						boxRowGap = 7;
					}
					
					xVal = (m*(boxWidth+boxColGap))+boxGraph_xAnchor;
					yVal = (i*(boxHeight+boxRowGap))+boxGraph_yAnchor;
					
					var rect = svg.append("rect")
					   .attr("x",xVal)
					   .attr("y",yVal)
					   .attr("width",boxWidth)
					   .attr("height",boxHeight)
					   .attr("fill",boxColor)
					   .attr("stroke-width",1)
					   .attr("stroke","black");
					
					var centerX = xVal+boxWidth/2;
					var centerY = yVal+boxHeight/2;
					
					var text = svg.append('text').text(boxText)
					   .attr('x', centerX)
					   .attr('y', centerY)
					   .attr('fill', 'white')
					   .attr("text-anchor","middle")
					   .attr("alignment-baseline","middle");;
				}
			}
			
        </script>
    </body>
</html>     
